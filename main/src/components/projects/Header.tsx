'use client'

import { useState } from 'react'

export function Header() {
  const [language, setLanguage] = useState('KR')
  const [isDropdownOpen, setIsDropdownOpen] = useState(false)
  const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false)

  function toggleDropdown() {
    setIsDropdownOpen(!isDropdownOpen)
  }

  function selectLanguage(selectedLang) {
    setLanguage(selectedLang)
    setIsDropdownOpen(false)
  }

  function toggleMobileMenu() {
    setIsMobileMenuOpen(!isMobileMenuOpen)
  }

  return (
    <div className='w-full h-fit sticky top-0 z-30 mix-blend-difference'>
      <div className='w-full h-[58px] px-[16px] py-[30px] lg:px-[48px] lg:py-[30px] lg:h-[80px] md:px-[40px] md:py-[30px] md:h-[68px] inline-flex justify-between items-center'>
        <div className='h-[24px] md:h-[30px] lg:h-[36px] w-auto relative flex justify-center items-center aspect-[156/36]'>
          <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 156 36' fill='none'>
            <g >
              <path
                d='M141.475 19.7656C141.475 18.9375 141.604 18.1484 141.86 17.3984C142.117 16.6406 142.487 15.9609 142.97 15.3594C143.452 14.75 144.086 14.2656 144.873 13.9062C145.659 13.5391 146.542 13.3555 147.523 13.3555C148.309 13.3555 149.037 13.4727 149.706 13.707C150.375 13.9336 150.943 14.2422 151.41 14.6328C151.877 15.0234 152.274 15.4805 152.601 16.0039C152.928 16.5195 153.169 17.0664 153.325 17.6445C153.481 18.2227 153.559 18.8164 153.559 19.4258L153.5 20.5273H144.441C144.573 21.5195 144.931 22.2891 145.515 22.8359C146.098 23.375 146.85 23.6445 147.768 23.6445C148.468 23.6445 149.06 23.4961 149.542 23.1992C150.025 22.8945 150.34 22.4688 150.488 21.9219H153.477C153.275 23.2578 152.648 24.3047 151.597 25.0625C150.554 25.8125 149.255 26.1875 147.698 26.1875C146.904 26.1875 146.165 26.0703 145.48 25.8359C144.803 25.6016 144.219 25.2813 143.728 24.875C143.246 24.4609 142.833 23.9844 142.491 23.4453C142.148 22.8984 141.892 22.3164 141.72 21.6992C141.557 21.0742 141.475 20.4297 141.475 19.7656ZM144.534 18.2422H150.301C150.239 17.4688 149.967 16.8438 149.484 16.3672C149.002 15.8906 148.348 15.6523 147.523 15.6523C146.752 15.6523 146.11 15.8789 145.596 16.332C145.083 16.7773 144.729 17.4141 144.534 18.2422Z'
                fill='white'
              />
            </g>
            <g >
              <path
                d='M134.46 26L129.919 13.543H132.954L135.873 22.5195L138.768 13.543H141.804L137.286 26H134.46Z'
                fill='white'
              />
            </g>
            <g >
              <path
                d='M126.091 26V13.543H129.103V26H126.091ZM125.963 8.50391H129.244V11.668H125.963V8.50391Z'
                fill='white'
              />
            </g>
            <g >
              <path
                d='M124.832 13.543V16.0625H121.949V21.7578C121.949 22.3281 122.104 22.7734 122.416 23.0938C122.735 23.4141 123.151 23.5742 123.665 23.5742C124.077 23.5742 124.467 23.5195 124.832 23.4102V26.0234C124.381 26.1328 123.871 26.1875 123.303 26.1875C121.972 26.1875 120.91 25.8398 120.116 25.1445C119.33 24.4414 118.937 23.4141 118.937 22.0625V16.0625H116.823V13.543H118.937V9.875H121.949V13.543H124.832Z'
                fill='white'
              />
            </g>
            <g >
              <path
                d='M109.482 26.1875C108.229 26.1875 107.193 25.8477 106.376 25.168C105.559 24.4883 105.15 23.6289 105.15 22.5898C105.15 21.5117 105.524 20.6406 106.271 19.9766C107.026 19.3047 108.096 18.8789 109.482 18.6992L111.968 18.3711C112.638 18.2773 112.972 17.9492 112.972 17.3867C112.972 16.9102 112.758 16.5117 112.33 16.1914C111.902 15.8633 111.334 15.6992 110.626 15.6992C109.925 15.6992 109.346 15.875 108.886 16.2266C108.435 16.5781 108.186 17.0664 108.139 17.6914H105.22C105.368 16.3555 105.921 15.3008 106.878 14.5273C107.836 13.7461 109.085 13.3555 110.626 13.3555C112.268 13.3555 113.572 13.7891 114.537 14.6562C115.502 15.5234 115.985 16.6953 115.985 18.1719V22.5664C115.985 23.2383 116.241 23.5742 116.755 23.5742L117.152 23.5273V26C116.677 26.0938 116.203 26.1406 115.728 26.1406C115.074 26.1406 114.537 25.9883 114.117 25.6836C113.696 25.3789 113.451 24.9414 113.381 24.3711C113.109 24.9258 112.618 25.3672 111.91 25.6953C111.21 26.0234 110.4 26.1875 109.482 26.1875ZM109.984 23.8906C110.933 23.8906 111.68 23.5859 112.225 22.9766C112.77 22.3672 113.043 21.582 113.043 20.6211V20.2695L109.984 20.7734C108.77 20.9609 108.162 21.5195 108.162 22.4492C108.162 22.8711 108.33 23.2188 108.664 23.4922C108.999 23.7578 109.439 23.8906 109.984 23.8906Z'
                fill='white'
              />
            </g>
            <g >
              <path
                d='M84.873 26V13.543H87.8851V15.4883C88.2276 14.8242 88.7024 14.3047 89.3095 13.9297C89.9166 13.5469 90.6365 13.3555 91.4693 13.3555C92.45 13.3555 93.2711 13.5586 93.9327 13.9648C94.602 14.3633 95.0729 14.9414 95.3453 15.6992C95.6956 15.0117 96.2326 14.4492 96.9564 14.0117C97.6803 13.5742 98.5131 13.3555 99.4548 13.3555C100.77 13.3555 101.833 13.7461 102.642 14.5273C103.452 15.3008 103.856 16.3086 103.856 17.5508V26H100.844V18.3945C100.844 17.6367 100.642 17.0352 100.237 16.5898C99.8401 16.1445 99.2836 15.9219 98.5676 15.9219C97.7114 15.9219 97.0459 16.2617 96.5712 16.9414C96.1042 17.6133 95.8707 18.5195 95.8707 19.6602V26H92.8586V18.3945C92.8586 17.6367 92.6562 17.0352 92.2515 16.5898C91.8546 16.1445 91.2981 15.9219 90.582 15.9219C89.7414 15.9219 89.0799 16.2656 88.5973 16.9531C88.1225 17.6406 87.8851 18.5508 87.8851 19.6836V26H84.873Z'
                fill='white'
              />
            </g>
            <g >
              <path
                d='M83.8708 16.3086C83.287 16.207 82.8862 16.1563 82.6683 16.1563C81.7109 16.1563 80.9093 16.5938 80.2632 17.4688C79.625 18.3438 79.3059 19.6602 79.3059 21.418V26H76.2938V13.543H79.3059V15.8281C79.5783 15.125 80.0765 14.5391 80.8003 14.0703C81.5241 13.5937 82.2674 13.3555 83.0302 13.3555C83.3104 13.3555 83.5906 13.3789 83.8708 13.4258V16.3086Z'
                fill='white'
              />
            </g>
            <g >
              <path
                d='M68.5436 26.1875C66.7068 26.1875 65.1891 25.582 63.9905 24.3711C62.7996 23.1602 62.2042 21.625 62.2042 19.7656C62.2042 17.9141 62.7996 16.3828 63.9905 15.1719C65.1891 13.9609 66.7068 13.3555 68.5436 13.3555C70.3727 13.3555 71.8865 13.9648 73.0851 15.1836C74.2837 16.3945 74.883 17.9219 74.883 19.7656C74.883 20.9844 74.6106 22.0859 74.0658 23.0703C73.521 24.0469 72.766 24.8125 71.8009 25.3672C70.8358 25.9141 69.75 26.1875 68.5436 26.1875ZM68.5436 23.5742C69.5165 23.5742 70.3065 23.2227 70.9136 22.5195C71.5207 21.8164 71.8242 20.8984 71.8242 19.7656C71.8242 18.6406 71.5168 17.7266 70.9019 17.0234C70.2948 16.3203 69.5087 15.9688 68.5436 15.9688C67.5629 15.9688 66.773 16.3203 66.1737 17.0234C65.5821 17.7266 65.2864 18.6406 65.2864 19.7656C65.2864 20.9063 65.5821 21.8281 66.1737 22.5313C66.7652 23.2266 67.5552 23.5742 68.5436 23.5742Z'
                fill='white'
              />
            </g>
            <g >
              <path
                d='M51.2201 26V8.69141H62.7898V11.5039H54.4307V15.6289H61.1904V18.4648H54.4307V26H51.2201Z'
                fill='white'
              />
            </g>
            <g >
              <path
                d='M31.9019 26L28.0492 13.543H31.0846L32.4506 18.6055C32.6062 19.1992 32.7502 19.793 32.8826 20.3867C33.0226 20.9805 33.1238 21.4219 33.1861 21.7109L33.2678 22.1563C33.4935 21.1328 33.8126 19.957 34.2252 18.6289L35.7779 13.543H38.5682L40.1559 18.6523C40.3427 19.2461 40.5179 19.8359 40.6813 20.4219C40.8447 21.0078 40.9615 21.4453 41.0315 21.7344L41.1366 22.1797C41.3234 21.1563 41.5842 19.9648 41.9188 18.6055L43.2848 13.543H46.3202L42.4442 26H39.7473L38.1946 20.9141C38.0078 20.3203 37.8327 19.7305 37.6692 19.1445C37.5058 18.5586 37.389 18.1172 37.319 17.8203L37.2139 17.3867C36.957 18.4102 36.6146 19.5859 36.1865 20.9141L34.5754 26H31.9019Z'
                fill='white'
              />
            </g>
            <g >
              <path
                d='M16.1193 19.7656C16.1193 18.9375 16.2477 18.1484 16.5045 17.3984C16.7614 16.6406 17.1311 15.9609 17.6136 15.3594C18.0962 14.75 18.7305 14.2656 19.5166 13.9062C20.3027 13.5391 21.1861 13.3555 22.1668 13.3555C22.9529 13.3555 23.6806 13.4727 24.35 13.707C25.0193 13.9336 25.5875 14.2422 26.0545 14.6328C26.5215 15.0234 26.9184 15.4805 27.2453 16.0039C27.5722 16.5195 27.8135 17.0664 27.9692 17.6445C28.1248 18.2227 28.2027 18.8164 28.2027 19.4258L28.1443 20.5273H19.0847C19.217 21.5195 19.575 22.2891 20.1587 22.8359C20.7425 23.375 21.4936 23.6445 22.412 23.6445C23.1125 23.6445 23.704 23.4961 24.1865 23.1992C24.6691 22.8945 24.9843 22.4688 25.1322 21.9219H28.1209C27.9186 23.2578 27.292 24.3047 26.2413 25.0625C25.1983 25.8125 23.8986 26.1875 22.3419 26.1875C21.548 26.1875 20.8086 26.0703 20.1237 25.8359C19.4466 25.6016 18.8628 25.2813 18.3725 24.875C17.8899 24.4609 17.4774 23.9844 17.135 23.4453C16.7925 22.8984 16.5357 22.3164 16.3644 21.6992C16.201 21.0742 16.1193 20.4297 16.1193 19.7656ZM19.1781 18.2422H24.9454C24.8831 17.4688 24.6107 16.8438 24.1282 16.3672C23.6456 15.8906 22.9918 15.6523 22.1668 15.6523C21.3963 15.6523 20.7541 15.8789 20.2405 16.332C19.7268 16.7773 19.3726 17.4141 19.1781 18.2422Z'
                fill='white'
              />
            </g>
            <g >
              <path
                d='M0.558594 26V8.69141H4.00265L9.81669 18.1016C10.1358 18.6328 10.4432 19.1641 10.739 19.6953C11.0348 20.2266 11.2527 20.625 11.3928 20.8906L11.6029 21.3008C11.5407 20.2383 11.5095 19.0117 11.5095 17.6211V8.69141H14.6851V26H11.2527L5.43865 16.6367C5.11954 16.1055 4.80821 15.5742 4.50467 15.043C4.20891 14.5117 3.99098 14.1133 3.85088 13.8477L3.64073 13.4492C3.72635 14.5039 3.76916 15.7266 3.76916 17.1172V26H0.558594Z'
                fill='white'
              />
            </g>
          </svg>
        </div>

        {/* 데스크탑 네비게이션 */}
        <div className='justify-start items-center gap-40 hidden md:flex'>
          <div className='flex justify-start items-center gap-[26px]'>
            <div data-속성-1='hover' className='w-16 h-9 relative'>
              <div className="left-0 top-0 justify-start  text-white text-2xl font-semibold font-['Pretendard'] underline leading-9">
                About,
              </div>
            </div>
            <div data-속성-1='default' className='w-20 h-9 relative'>
              <div className="left-0 top-0 justify-start text-white text-2xl font-semibold font-['Pretendard'] leading-9">
                Project,
              </div>
            </div>
            <div data-property-1='Default' className='w-16 h-9 relative'>
              <div className="left-0 top-0 justify-start text-white text-2xl font-semibold font-['Pretendard'] leading-9">
                Movement
              </div>
            </div>
          </div>

          {/* 언어 드롭다운 */}
          <div className='relative'>
            <div
              data-property-1='kr'
              className='relative flex flex-row justify-start items-center cursor-pointer'
              onClick={toggleDropdown}
            >
              <div className="left-0 top-0 px-[8.68px] justify-center text-center text-white text-2xl font-semibold font-['Pretendard'] leading-9">
                {language}
              </div>
              <svg
                xmlns='http://www.w3.org/2000/svg'
                className={`w-[12px] h-[6px] transition-transform duration-200 ${isDropdownOpen ? 'rotate-180' : ''}`}
                viewBox='0 0 14 9'
                fill='none'
              >
                <path d='M1 1L7 7L13 1' stroke='white' strokeWidth='2' />
              </svg>
            </div>

            {/* 드롭다운 메뉴 */}
            {isDropdownOpen && (
              <div className='absolute px-[8.68px] top-8 left-0 bg-white z-30'>
                {['KR', 'EN']
                  .filter((lang) => lang !== language)
                  .map((lang) => (
                    <div
                      key={lang}
                      className={`left-0 top-0 text-center cursor-pointer text-2xl font-semibold font-['Pretendard'] transition-colors `}
                      onClick={(e) => {
                        e.stopPropagation()
                        selectLanguage(lang)
                      }}
                    >
                      {lang}
                    </div>
                  ))}
              </div>
            )}
          </div>
        </div>

        {/* 모바일 햄버거 버튼 */}
        <div className='md:hidden'>
          <button onClick={toggleMobileMenu} className='p-2'>
            <svg xmlns='http://www.w3.org/2000/svg' width='18' height='20' viewBox='0 0 18 20' fill='none'>
              <path d='M0 2H18' stroke='white' strokeWidth='2.5' />
              <path d='M0 10H18' stroke='white' strokeWidth='2.5' />
              <path d='M0 18H18' stroke='white' strokeWidth='2.5' />
            </svg>
          </button>
        </div>
      </div>

      {/* 모바일 메뉴 */}
      {isMobileMenuOpen && (
        <div className='md:hidden bg-white border-t border-gray-200 px-12 py-6'>
          <div className='flex flex-col gap-6'>
            <div className='flex flex-col gap-4'>
              <div className="text-neutral-800 text-xl font-semibold font-['Pretendard'] underline">About,</div>
              <div className="text-gray-400 text-xl font-semibold font-['Pretendard']">Project,</div>
              <div className="text-gray-400 text-xl font-semibold font-['Pretendard']">Movement</div>
            </div>

            {/* 모바일 언어 선택 */}
            <div className='relative'>
              <div className='flex flex-row justify-start items-center cursor-pointer' onClick={toggleDropdown}>
                <div className="px-[8.68px] text-white text-xl font-semibold font-['Pretendard']">{language}</div>
                <svg
                  xmlns='http://www.w3.org/2000/svg'
                  className={`w-[12px] h-[6px] transition-transform duration-200 ${isDropdownOpen ? 'rotate-180' : ''}`}
                  viewBox='0 0 14 9'
                  fill='none'
                >
                  <path d='M1 1L7 7L13 1' stroke='white' strokeWidth='2' />
                </svg>
              </div>

              {isDropdownOpen && (
                <div className='px-[8.68px] mt-2 bg-white'>
                  {['KR', 'EN']
                    .filter((lang) => lang !== language)
                    .map((lang) => (
                      <div
                        key={lang}
                        className={`cursor-pointer text-xl font-semibold font-['Pretendard'] transition-colors py-1`}
                        onClick={(e) => {
                          e.stopPropagation()
                          selectLanguage(lang)
                        }}
                      >
                        {lang}
                      </div>
                    ))}
                </div>
              )}
            </div>
          </div>
        </div>
      )}
    </div>
  )
}
